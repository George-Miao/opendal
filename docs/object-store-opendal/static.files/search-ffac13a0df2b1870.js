"use strict";Array.prototype.toSpliced||(Array.prototype.toSpliced=function(){const e=this.slice();return Array.prototype.splice.apply(e,arguments),e}),function(){const e=["keyword","primitive","mod","externcrate","import","struct","enum","fn","type","static","trait","impl","tymethod","method","structfield","variant","macro","associatedtype","constant","associatedconstant","union","foreigntype","existential","attr","derive","traitalias","generic"],t=["keyword","primitive type","module","extern crate","re-export","struct","enum","function","type alias","static","trait","","trait method","method","struct field","enum variant","macro","assoc type","constant","assoc const","union","foreign type","existential type","attribute macro","derive macro","trait alias"],n=e.indexOf("generic"),r="undefined"!=typeof window?window.rootPath:"../";function i(e){let t=0,n=!1,r=!1;onEachLazy(document.getElementById("search-tabs").childNodes,(r=>{e===t?(addClass(r,"selected"),n=!0):removeClass(r,"selected"),t+=1}));const s=e>0||1===t;if(t=0,onEachLazy(document.getElementById("results").childNodes,(n=>{e===t?(addClass(n,"active"),r=!0):removeClass(n,"active"),t+=1})),n&&r){searchState.currentTab=e;const t=document.getElementsByClassName("search-corrections");s?removeClass(t[0],"hidden"):addClass(t[0],"hidden")}else 0!==e&&i(0)}const s={current:[],prev:[],prevPrev:[],calculate:function(e,t,n){if(e.length<t.length){const n=e;e=t,t=n}const r=e.length-t.length;if(r>n)return n+1;for(;t.length>0&&t[0]===e[0];)e=e.substring(1),t=t.substring(1);for(;t.length>0&&t[t.length-1]===e[e.length-1];)e=e.substring(0,e.length-1),t=t.substring(0,t.length-1);if(0===t.length)return r;const i=e.length,s=t.length;for(let a=0;a<=s;++a)this.current[a]=0,this.prev[a]=a,this.prevPrev[a]=Number.MAX_VALUE;for(let a=1;a<=i;++a){this.current[0]=a;const n=a-1;for(let i=1;i<=s;++i){const r=i-1,s=e[n]===t[r]?0:1;this.current[i]=Math.min(this.prev[i]+1,this.current[i-1]+1,this.prev[i-1]+s),a>1&&i>1&&e[n]===t[r-1]&&e[n-1]===t[r]&&(this.current[i]=Math.min(this.current[i],this.prevPrev[i-2]+1))}const r=this.prevPrev;this.prevPrev=this.prev,this.prev=this.current,this.current=r}const o=this.prev[s];return o<=n?o:n+1}};function o(e,t,n){return s.calculate(e,t,n)}function a(s){const l=200,c=-1;let u,h,d,f,p;const g=new Map,m=new Map,y=F("array"),w=F("slice"),b=F("[]"),v=F("tuple"),S=F("unit"),x=F("()"),E=F("fn"),C=F("fnmut"),M=F("fnonce"),I=F("->");function F(e,t){if(""===e||null===e)return null;if(g.has(e)){const n=g.get(e);return n.assocOnly=t&&n.assocOnly,n.id}{const n=g.size;return g.set(e,{id:n,assocOnly:t}),n}}function Q(e){return-1!=='<"'.indexOf(e)}function k(e){return-1!=="=,>-])".indexOf(e)}function L(e){return"::"===e.userQuery.slice(e.pos,e.pos+2)}function P(e){return"->"===e.userQuery.slice(e.pos,e.pos+2)}function T(e){return"_"===e||e>="0"&&e<="9"||e>="a"&&e<="z"||e>="A"&&e<="Z"}function z(e){return","===e||"="===e}function A(e){return":"===e||" "===e}function N(e,t){let n=e.pos;for(;n>0;){const r=e.userQuery[n-1];if(r===t)return!0;if(" "!==r)break;n-=1}return!1}function U(e,t){return e.length>0&&e[e.length-1].generics.length>0||N(t,">")}function B(e){for(;e.pos<e.userQuery.length;){if(" "!==e.userQuery[e.pos])break;e.pos+=1}}function _(e,t){return Object.assign({name:e,id:null,fullPath:[e],pathWithoutLast:[],pathLast:e,normalizedPathLast:e,generics:[],bindings:new Map,typeFilter:"primitive",bindingName:null},t)}function q(e){const t=e.pos;let n=e.pos,r=-1;for(;e.pos<e.length;){const i=e.userQuery[e.pos];if(!T(i))if("!"===i){if(-1!==r)throw["Cannot have more than one ","!"," in an ident"];if(e.pos+1<e.length&&T(e.userQuery[e.pos+1]))throw["Unexpected ","!",": it can only be at the end of an ident"];r=e.pos}else{if(!A(i)){if("["===i||"("===i||k(i)||Q(i)||z(i))break;throw e.pos>0?["Unexpected ",i," after ",e.userQuery[e.pos-1]]:["Unexpected ",i]}if(":"===i){if(!L(e))break;e.pos+=1}else for(;e.pos+1<e.length;){if(" "!==e.userQuery[e.pos+1])break;e.pos+=1}if(-1!==r){if(r!==t&&T(e.userQuery[r-1]))throw["Cannot have associated items in macros"];r=-1}}e.pos+=1,n=e.pos}if(-1!==r&&r!==t&&T(e.userQuery[r-1])){if(null===e.typeFilter)e.typeFilter="macro";else if("macro"!==e.typeFilter)throw["Invalid search type: macro ","!"," and ",e.typeFilter," both specified"];n=r}return n}function $(e,t,n,r){const i=t.pos;if(":"===t.userQuery[t.pos]&&!L(t))throw["Expected type filter before ",":"];if(D(e,t,n,r),":"===t.userQuery[t.pos]&&!L(t)){if(null!==t.typeFilter)throw["Unexpected ",":"," (expected path after type filter ",t.typeFilter+":",")"];if(0===n.length)throw["Expected type filter before ",":"];if(e.literalSearch)throw["Cannot use quotes on type filter"];const s=n.pop();!function(e,t){const n=t.userQuery.slice(e,t.pos).trim();for(const r in n)if(!T(n[r]))throw["Unexpected ",n[r]," in type filter (before ",":",")"]}(i,t),t.typeFilter=s.name,t.pos+=1,t.totalElems-=1,e.literalSearch=!1,D(e,t,n,r)}}function D(e,t,n,r){const i=[];B(t);let s,o=t.pos;if(-1!=="[(".indexOf(t.userQuery[t.pos])){let s=")",o="()",a="tuple";"["===t.userQuery[t.pos]&&(s="]",o="[]",a="slice"),t.pos+=1;const{foundSeparator:l}=O(e,t,i,s),c=t.typeFilter,u=t.isInBinding;t.typeFilter=null,t.isInBinding=null;for(const e of i)if(null!==e.bindingName)throw["Type parameter ","=",` cannot be within ${a} `,o];if("()"!==o||l||1!==i.length||null!==c)if("()"===o&&1===i.length&&"->"===i[0].name)i[0].typeFilter=c,n.push(i[0]);else{if(null!==c&&"primitive"!==c)throw["Invalid search type: primitive ",o," and ",c," both specified"];t.totalElems+=1,r&&(t.genericsElems+=1),n.push(_(o,{bindingName:u,generics:i}))}else n.push(i[0])}else{const a='"'===t.userQuery[o];if(a?(o+=1,function(e,t,n){if(n)throw["Unexpected ",'"'," in generics"];if(e.literalSearch)throw["Cannot have more than one literal search element"];if(t.totalElems-t.genericsElems>0)throw["Cannot use literal search when there is more than one element"];t.pos+=1;const r=t.pos,i=q(t);if(t.pos>=t.length)throw["Unclosed ",'"'];if('"'!==t.userQuery[i])throw["Unexpected ",t.userQuery[i]," in a string element"];if(r===i)throw["Cannot have empty string element"];t.pos+=1,e.literalSearch=!0}(e,t,r),s=t.pos-1):s=q(t),t.pos<t.length&&"<"===t.userQuery[t.pos]){if(o>=s)throw["Found generics without a path"];t.pos+=1,O(e,t,i,">")}else if(t.pos<t.length&&"("===t.userQuery[t.pos]){if(o>=s)throw["Found generics without a path"];if(t.isInBinding)throw["Unexpected ","("," after ","="];t.pos+=1;const n=t.typeFilter;t.typeFilter=null,O(e,t,i,")"),B(t),P(t)?(t.pos+=2,B(t),$(e,t,i,r),i[i.length-1].bindingName=_("output")):i.push(_(null,{bindingName:_("output"),typeFilter:null})),t.typeFilter=n}if(a&&B(t),o>=s&&0===i.length)return;if("="===t.userQuery[t.pos]){if(t.isInBinding)throw["Cannot write ","="," twice in a binding"];if(!r)throw["Type parameter ","="," must be within generics list"];const e=t.userQuery.slice(o,s).trim();if("!"===e)throw["Type parameter ","="," key cannot be ","!"," never type"];if(e.includes("!"))throw["Type parameter ","="," key cannot be ","!"," macro"];if(e.includes("::"))throw["Type parameter ","="," key cannot contain ","::"," path"];if(e.includes(":"))throw["Type parameter ","="," key cannot contain ",":"," type"];t.isInBinding={name:e,generics:i}}else n.push(function(e,t,n,r,i){const s=n.trim();if(0===s.length&&0===r.length)throw["Unexpected ",t.userQuery[t.pos]];if(e.literalSearch&&t.totalElems-t.genericsElems>0)throw["Cannot have more than one element if you use quotes"];const o=t.typeFilter;if(t.typeFilter=null,"!"===n){if(null!==o&&"primitive"!==o)throw["Invalid search type: primitive never type ","!"," and ",o," both specified"];if(0!==r.length)throw["Never type ","!"," does not accept generic parameters"];const e=t.isInBinding;return t.isInBinding=null,_("never",{bindingName:e})}const a=/::\s*::/.exec(s);if(s.startsWith("::"))throw["Paths cannot start with ","::"];if(s.endsWith("::"))throw["Paths cannot end with ","::"];if(null!==a)throw["Unexpected ",a[0]];const l=s.split(/(?:::\s*)|(?:\s+(?:::\s*)?)/);if(0===l.length||1===l.length&&""===l[0])throw r.length>0||N(t,">")?["Found generics without a path"]:["Unexpected ",t.userQuery[t.pos]];for(const[d,f]of l.entries())if("!"===f){if(0!==d)throw["Never type ","!"," is not associated item"];l[d]="never"}t.totalElems+=1,i&&(t.genericsElems+=1);const c=t.isInBinding;t.isInBinding=null;const u=new Map,h=l[l.length-1];return{name:n.trim(),id:null,fullPath:l,pathWithoutLast:l.slice(0,l.length-1),pathLast:h,normalizedPathLast:h.replace(/_/g,""),generics:r.filter((e=>null===e.bindingName||(null!==e.name&&e.bindingName.generics.unshift(e),u.set(e.bindingName.name,e.bindingName.generics),!1))),bindings:u,typeFilter:o,bindingName:c}}(e,t,t.userQuery.slice(o,s),i,r))}}function O(e,t,n,r){let i=!0,s=!1;const o=t.typeFilter;t.typeFilter=null;const a=t.isInBinding;t.isInBinding=null;let l=null,c="";for(c=">"===r?"<":"]"===r?"[":")"===r?"(":""===r?"->":r;t.pos<t.length;){const o=t.userQuery[t.pos];if(o===r){if(t.isInBinding)throw["Unexpected ",r," after ","="];break}if(""!==r&&P(t)){if(t.isInBinding)throw["Unexpected ","->"," after ","="];l=[...n],n.length=0,t.pos+=2,i=!0,s=!1;continue}if(" "===o){t.pos+=1;continue}if(z(o)){t.pos+=1,i=!0,s=!0;continue}if(":"===o&&L(t))throw["Unexpected ","::",": paths cannot start with ","::"];if(k(o))throw["Unexpected ",o," after ",c];if(!i){let n=[];if(U(e.elems,t))n=[" after ",">"];else if(N(t,'"'))throw["Cannot have more than one element if you use quotes"];if(""!==r)throw["Expected ",",",", ","=",", or ",r,...n,", found ",o];throw["Expected ",","," or ","=",...n,", found ",o]}const a=t.pos;if($(e,t,n,""!==r),""!==r&&t.pos>=t.length)throw["Unclosed ",c];a===t.pos&&(t.pos+=1),i=!1}if(t.pos>=t.length&&""!==r)throw["Unclosed ",c];if(t.pos+=1,l){if(s=!1,[...n,...l].some((e=>e.bindingName))||t.isInBinding)throw["Unexpected ","="," within ","->"];const e=_("->",{generics:l,bindings:new Map([["output",[...n]]]),typeFilter:null});n.length=0,n[0]=e}return t.typeFilter=o,t.isInBinding=a,{foundSeparator:s}}function R(e){return{original:e,userQuery:e.toLowerCase(),elems:[],returned:[],foundElems:0,totalElems:0,literalSearch:!1,error:null,correction:null,proposeCorrectionFrom:null,proposeCorrectionTo:null,typeFingerprint:new Uint32Array(4)}}function H(e,t){let n="?search="+encodeURIComponent(e);return null!==t&&(n+="&filter-crate="+encodeURIComponent(t)),getNakedUrl()+n+window.location.hash}function W(){const e=document.getElementById("crate-search");return e&&"all crates"!==e.value&&s.has(e.value)?e.value:null}function j(t){function n(t){if(null!==t.typeFilter){let n=t.typeFilter;"const"===n&&(n="constant"),t.typeFilter=function(t){const n=e.findIndex((e=>e===t));if(n<0)throw["Unknown type filter ",t];return n}(n)}else t.typeFilter=c;for(const e of t.generics)n(e);for(const e of t.bindings.values())for(const t of e)n(t)}const r={length:(t=t.trim().replace(/\r|\n|\t/g," ")).length,pos:0,totalElems:0,genericsElems:0,typeFilter:null,isInBinding:null,userQuery:t.toLowerCase()};let i=R(t);try{!function(e,t){let n=!0;for(;t.pos<t.length;){const r=t.userQuery[t.pos];if(k(r)){if(n=!0,z(r)){t.pos+=1;continue}if("-"===r||">"===r){if(P(t))break;throw["Unexpected ",r," (did you mean ","->","?)"]}if(t.pos>0)throw["Unexpected ",r," after ",t.userQuery[t.pos-1]];throw["Unexpected ",r]}if(" "===r){B(t);continue}if(!n){let n="";if(U(e.elems,t))n=[" after ",">"];else if(N(t,'"'))throw["Cannot have more than one element if you use quotes"];if(null!==t.typeFilter)throw["Expected ",","," or ","->",...n,", found ",r];throw["Expected ",",",", ",":"," or ","->",...n,", found ",r]}const i=e.elems.length;$(e,t,e.elems,!1),e.elems.length===i&&(t.pos+=1),n=!1}if(null!==t.typeFilter)throw["Unexpected ",":"," (expected path after type filter ",t.typeFilter+":",")"];for(;t.pos<t.length;){if(P(t)){if(t.pos+=2,B(t),O(e,t,e.returned,""),0===e.returned.length)throw["Expected at least one item after ","->"];break}t.pos+=1}}(i,r);for(const e of i.elems)n(e);for(const e of i.returned)n(e)}catch(s){return i=R(t),i.error=s,i}return i.literalSearch||(i.literalSearch=r.totalElems>1),i.foundElems=i.elems.length+i.returned.length,i.totalElems=r.totalElems,i}async function G(t,r,i){const s=new Map,a=new Map,f=new Map;async function p(e,n,r){const i=t.userQuery,s=[];for(const t of e.values())t.item=u[t.id],t.word=u[t.id].word,s.push(t);s.sort(((e,t)=>{let n,s;return n=e.word!==i,s=t.word!==i,n!==s?n-s:(n=e.index<0,s=t.index<0,n!==s?n-s:(n=e.path_dist,s=t.path_dist,n!==s?n-s:(n=e.index,s=t.index,n!==s?n-s:(n=e.dist,s=t.dist,n!==s?n-s:(n=h.get(e.item.crate).contains(e.item.bitIndex),s=h.get(t.item.crate).contains(t.item.bitIndex),n!==s?n-s:(n=e.item.crate!==r,s=t.item.crate!==r,n!==s?n-s:(n=e.word.length,s=t.word.length,n!==s?n-s:(n=e.word,s=t.word,n!==s?n>s?1:-1:(n=d.get(e.item.crate).contains(e.item.bitIndex),s=d.get(t.item.crate).contains(t.item.bitIndex),n!==s?n-s:(n=e.item.ty,s=t.item.ty,n!==s?n-s:(n=e.item.path,s=t.item.path,n!==s?n>s?1:-1:0)))))))))))}));const o=function(e){const t=new Set,n=[];for(const r of e)if(-1!==r.id){const e=u[r.id];e.dist=r.dist;const i=X(e);if(e.displayPath=Z(i[0]),e.fullPath=e.displayPath+e.name,e.fullPath+="|"+e.ty,t.has(e.fullPath))continue;if(t.add(e.fullPath),e.href=i[1],n.push(e),n.length>=l)break}return n}(s),a=await Promise.all(o.map((e=>d.get(e.crate).contains(e.bitIndex)?"":searchState.loadDesc(e))));for(const[t,l]of o.entries())l.desc=a[t];return o}function F(e,t,n,r,i,s){if(s>=5)return!1;const o=null===r?null:new Map(r);if(0===t.length)return!i||i(o);if(!e||0===e.length)return!1;const a=t.length,l=e.length;if(1===a&&0===t[0].generics.length&&0===t[0].bindings.size){const r=t[0];for(const t of e)if(Q(t,r,o))if(t.id<0&&r.id<0){if(o&&o.has(t.id)&&o.get(t.id)!==r.id)continue;const e=new Map(o);if(e.set(t.id,r.id),!i||i(e))return!0}else if(!i||i(o?new Map(o):null))return!0;for(const a of e)if(L(a,r,n,o,s+1))if(a.id<0){if(o&&o.has(a.id)&&0!==o.get(a.id))continue;const e=new Map(o);if(e.set(a.id,0),F(n[-a.id-1],t,n,e,i,s+1))return!0}else if(F([...a.generics,...Array.from(a.bindings.values()).flat()],t,n,o?new Map(o):null,i,s+1))return!0;return!1}const c=e.slice(),u=l-1,h=a-1,d=t[h];let f=null;for(let p=u;p>=0;p-=1){const e=c[p];if(!Q(e,d,o))continue;let r;if(e.id<0){if(r=new Map(o),r.has(e.id)&&r.get(e.id)!==d.id)continue;r.set(e.id,d.id)}else r=o;c[p]=c[u],c.length=u,f||(f=t.slice(0,h));const a=F(c,f,n,r,(t=>{if(0===e.generics.length&&0===d.generics.length&&0===e.bindings.size&&0===d.bindings.size)return!i||i(t);const r=k(e,d,n,t,s);if(!r)return!1;const o=r.simplifiedGenerics;for(const e of r.mgens){if(F(o,d.generics,n,e,i,s))return!0}return!1}),s);if(a)return!0;c[u]=c[p],c[p]=e,c.length=l}for(let p=u;p>=0;p-=1){const e=c[p];if(!L(e,d,n,o,s+1))continue;let r;if(e.id<0){if(r=new Map(o),r.has(e.id)&&0!==r.get(e.id))continue;r.set(e.id,0)}else r=o;const a=e.id<0?n[-e.id-1]:e.generics,l=e.bindings?Array.from(e.bindings.values()).flat():[];if(F(c.toSpliced(p,1,...a,...l),t,n,r,i,s+1))return!0}return!1}function Q(e,t,n){if(!z(t.typeFilter,e.ty))return!1;if(e.id<0&&t.id<0){if(n){if(n.has(e.id)&&n.get(e.id)!==t.id)return!1;for(const[r,i]of n.entries()){if(e.id!==r&&t.id===i)return!1;if(e.id===r&&t.id!==i)return!1}}return!0}{if(t.id!==b||e.id!==w&&e.id!==y)if(t.id!==x||e.id!==v&&e.id!==S)if(t.id!==I||e.id!==E&&e.id!==C&&e.id!==M){if(e.id!==t.id||null===t.id)return!1}else;else;else;if(e.generics.length+e.bindings.size===0&&0!==t.generics.length)return!1;if(e.bindings.size<t.bindings.size)return!1;const n=t.pathWithoutLast.length;if(n>0){const r=void 0!==e.path&&null!==e.path?e.path.split("::"):[];if(n>r.length)return!1;let i=0;for(const e of r)if(e===t.pathWithoutLast[i]&&(i+=1,i>=n))break;if(i<n)return!1}return!0}}function k(e,t,n,r,i){if(e.bindings.size<t.bindings.size)return!1;let s=e.generics||[];if(e.bindings.size>0){let o=[r];for(const[r,s]of t.bindings.entries()){if(0===o.length)return!1;if(!e.bindings.has(r))return!1;const t=e.bindings.get(r);o=o.flatMap((e=>{const r=[];return F(t,s,n,e,(e=>(r.push(e),!1)),i),r}))}if(0===o.length)return!1;const a=Array.from(e.bindings.entries()).flatMap((e=>{const[n,r]=e;return t.bindings.has(n)?[]:r}));return s=s.length>0?[...s,...a]:a,{simplifiedGenerics:s,mgens:o}}return{simplifiedGenerics:s,mgens:[r]}}function L(e,t,n,r,i){if(i>=5)return!1;if(e.id<0&&t.id>=0){if(!n)return!1;if(r&&r.has(e.id)&&0!==r.get(e.id))return!1;const s=new Map(r);return s.set(e.id,null),P(n[-e.id-1],t,n,s,i)}if(e.generics.length>0||e.bindings.size>0){return P([...e.generics,...Array.from(e.bindings.values()).flat()],t,n,r,i)}return!1}function P(e,t,n,r,i){for(const s of e)if(T(s,t,n,r,i))return!0;return!1}function T(e,t,n,r,i){if(i>=5)return!1;if(0===e.bindings.size&&0===t.bindings.size){if(t.id<0&&null===r)return e.id<0||P(e.generics,t,n,r,i+1);if(e.id>0&&t.id>0&&0===t.pathWithoutLast.length&&z(t.typeFilter,e.ty)&&0===t.generics.length&&t.id!==b&&t.id!==x&&t.id!==I)return e.id===t.id||P(e.generics,t,n,r,i)}return F([e],[t],n,r,null,i)}function z(t,n){if(t<=c||t===n)return!0;const r=e[n];switch(e[t]){case"constant":return"associatedconstant"===r;case"fn":return"method"===r||"tymethod"===r;case"type":return"primitive"===r||"associatedtype"===r;case"trait":return"traitalias"===r}return!1}function A(e){return{crate:e.crate,name:e.name,path:e.path,descShard:e.descShard,descIndex:e.descIndex,ty:e.ty,parent:e.parent,type:e.type,is_alias:!0,bitIndex:e.bitIndex,implDisambiguator:e.implDisambiguator}}function N(e,n,r,i,s,o,a){if(s<=a||-1!==i){if(e.has(n)){const t=e.get(n);if(t.dontValidate||t.dist<=s)return}e.set(n,{id:r,index:i,dontValidate:t.literalSearch,dist:s,path_dist:o})}}function U(e,n,i,s,a,c,u){if(!e||null!==r&&e.crate!==r)return;let h=0;const d=e.id,f=ce(d,t.typeFingerprint);if(null!==f){const t=e.type&&e.type.inputs&&P(e.type.inputs,i,e.type.where_clause,null,0),r=e.type&&e.type.output&&P(e.type.output,i,e.type.where_clause,null,0);if(t){a.max_dist=Math.max(a.max_dist||0,f);N(a,d,n,-1,f,0,a.size<l?f+1:a.max_dist)}if(r){c.max_dist=Math.max(c.max_dist||0,f);N(c,d,n,-1,f,0,c.size<l?f+1:c.max_dist)}}if(!z(i.typeFilter,e.ty))return;let p=e.word.indexOf(i.pathLast);const g=e.normalizedName.indexOf(i.pathLast);if((-1===p||p>g&&-1!==g)&&(p=g),i.fullPath.length>1&&(h=function(e,t){if(0===e.length)return 0;const n=Math.floor(e.reduce(((e,t)=>e+t.length),0)/3);let r=n+1;const i=t.path.split("::");t.parent&&t.parent.name&&i.push(t.parent.name.toLowerCase());const s=i.length,a=e.length;e:for(let l=s-a;l>=0;l-=1){let t=0;for(let r=0;r<a;++r){const[s,a]=[i[l+r],e[r]];if(Math.floor((s.length-a.length)/3)<=n&&-1!==s.indexOf(a))t+=Math.floor((s.length-a.length)/3);else{const e=o(s,a,n);if(e>n)continue e;t+=e}}r=Math.min(r,Math.round(t/a))}return r>n?null:r}(i.pathWithoutLast,e),null===h))return;if(t.literalSearch)return void(e.word===i.pathLast&&N(s,d,n,p,0,h));const m=o(e.normalizedName,i.normalizedPathLast,u);-1===p&&m>u||N(s,d,n,p,m,h,u)}function B(e,n,i){if(!e||null!==r&&e.crate!==r||!e.type)return;const s=ce(e.id,t.typeFingerprint);null!==s&&(i.size>=l&&s>i.max_dist||F(e.type.inputs,t.elems,e.type.where_clause,null,(n=>F(e.type.output,t.returned,e.type.where_clause,n,null,0)),0)&&(i.max_dist=Math.max(i.max_dist||0,s),N(i,e.id,n,0,s,0,Number.MAX_VALUE)))}null===t.error&&function(){const e=t.elems.reduce(((e,t)=>e+t.pathLast.length),0)+t.returned.reduce(((e,t)=>e+t.pathLast.length),0),r=Math.floor(e/3),i=new Map;function l(e,s){if(!g.has(e.normalizedPathLast)||!s&&g.get(e.normalizedPathLast).assocOnly){if(!t.literalSearch){let n=null,i=r+1,a="";for(const[t,{id:l,assocOnly:c}]of g){const u=o(t,e.normalizedPathLast,r);if(u<=i&&u<=r&&(s||!c)){if(u===i&&a>t)continue;n=l,i=u,a=t}}null!==n&&(t.correction=a),e.id=n}}else e.id=g.get(e.normalizedPathLast).id;if(null===e.id&&t.totalElems>1&&-1===e.typeFilter&&0===e.generics.length&&0===e.bindings.size||e.typeFilter===n){if(i.has(e.name)?e.id=i.get(e.name):(e.id=-(i.size+1),i.set(e.name,e.id)),-1===e.typeFilter&&e.name.length>=3){const n=Math.floor(e.name.length/3);let r=n+1,i="";for(const t of g.keys()){const s=o(t,e.name,n);if(s<=r&&s<=n){if(s===r&&i>t)continue;r=s,i=t}}""!==i&&(t.proposeCorrectionFrom=e.name,t.proposeCorrectionTo=i)}e.typeFilter=n}e.generics.length>0&&e.typeFilter===n&&(t.error=["Generic type parameter ",e.name," does not accept generic parameters"]);for(const t of e.generics)l(t);e.bindings=new Map(Array.from(e.bindings.entries()).map((e=>{const[n,r]=e;if(!g.has(n))return t.error=["Type parameter ",n," does not exist"],[null,[]];for(const t of r)l(t);return[g.get(n).id,r]})))}const c=new Set;for(const n of t.elems)l(n),le(n,t.typeFingerprint,c);for(const n of t.returned)l(n),le(n,t.typeFingerprint,c);if(1===t.foundElems&&0===t.returned.length){if(1===t.elems.length){const e=t.elems[0];for(let t=0,n=u.length;t<n;++t)U(u[t],t,e,s,a,f,r)}}else if(t.foundElems>0){const e=(e,t)=>{const n=0===e.generics.length&&0===e.bindings.size,r=0===t.generics.length&&0===t.bindings.size;return n!==r?n-r:(e.id>0)-(t.id>0)};t.elems.sort(e),t.returned.sort(e);for(let t=0,n=u.length;t<n;++t)B(u[t],t,s)}}();const[_,q,$]=await Promise.all([p(a,0,i),p(f,0,i),p(s,0,i)]),D=function(e,t,n,r){return{in_args:e,returned:t,others:n,query:r}}(_,q,$,t);return function(e,t,n,r){const i=t.toLowerCase(),s=[],o=[];if(null!==n){if(m.has(n)&&m.get(n).has(i)){const e=m.get(n).get(i);for(const t of e)s.push(A(u[t]))}}else for(const[l,h]of m)if(h.has(i)){const e=l===r?o:s,t=h.get(i);for(const n of t)e.push(A(u[n]))}const a=(e,t)=>e.path<t.path?1:e.path===t.path?0:-1;o.sort(a),s.sort(a);const c=n=>{n.alias=t;const r=X(n);n.displayPath=Z(r[0]),n.fullPath=n.displayPath+n.name,n.href=r[1],e.others.unshift(n),e.others.length>l&&e.others.pop()};s.forEach(c),o.forEach(c)}(D,t.original.replace(/"/g,""),r,i),null!==t.error&&0!==D.others.length&&(D.query.error=null),D}function V(e){const t=(searchState.currentTab+e+3)%searchState.focusedByTab.length;searchState.focusedByTab[searchState.currentTab]=document.activeElement,i(t),K()}function K(){const e=searchState.focusedByTab[searchState.currentTab]||document.querySelectorAll(".search-results.active a").item(0)||document.querySelectorAll("#search-tabs button").item(searchState.currentTab);searchState.focusedByTab[searchState.currentTab]=null,e&&e.focus()}function X(t){let n,i;const s=e[t.ty],o=t.name;let a=t.path;if("mod"===s)n=a+"::",i=r+a.replace(/::/g,"/")+"/"+o+"/index.html";else if("import"===s)n=t.path+"::",i=r+t.path.replace(/::/g,"/")+"/index.html#reexport."+o;else if("primitive"===s||"keyword"===s)n="",i=r+a.replace(/::/g,"/")+"/"+s+"."+o+".html";else if("externcrate"===s)n="",i=r+o+"/index.html";else if(void 0!==t.parent){const l=t.parent;let c=s+"."+o;const u=e[l.ty];let h=u,d=l.name;if("primitive"===u)n=l.name+"::";else if("structfield"===s&&"variant"===u){const e=t.path.lastIndexOf("::"),r=t.path.substr(e+2);a=t.path.substr(0,e),n=a+"::"+r+"::"+l.name+"::",c="variant."+l.name+".field."+o,h="enum",d=r}else n=a+"::"+l.name+"::";null!==t.implDisambiguator&&(c=t.implDisambiguator+"/"+c),i=r+a.replace(/::/g,"/")+"/"+h+"."+d+".html#"+c}else n=t.path+"::",i=r+t.path.replace(/::/g,"/")+"/"+s+"."+o+".html";return[n,i]}function Z(e){const t="<span>"+e.replace(/::/g,"::</span><span>");return t.endsWith("<span>")?t.slice(0,t.length-6):t}async function J(n,r,i){const s=i?" active":"",o=document.createElement("div");if(n.length>0){o.className="search-results "+s;for(const r of n){const n=r.name,i=e[r.ty],s=t[r.ty],a=0!==s.length?`${s}`:"?",l=document.createElement("a");l.className="result-"+i,l.href=r.href;const c=document.createElement("div");c.className="result-name",c.insertAdjacentHTML("beforeend",`<span class="typename">${a}</span>`),l.appendChild(c);let u=" ";r.is_alias&&(u=` <div class="alias"><b>${r.alias}</b><i class="grey">&nbsp;- see&nbsp;</i></div>`),c.insertAdjacentHTML("beforeend",`<div class="path">${u}${r.displayPath}<span class="${i}">${n}</span></div>`);const h=document.createElement("div");h.className="desc",h.insertAdjacentHTML("beforeend",r.desc),l.appendChild(h),o.appendChild(l)}}else null===r.error&&(o.className="search-failed"+s,o.innerHTML='No results :(<br/>Try on <a href="https://duckduckgo.com/?q='+encodeURIComponent("rust "+r.userQuery)+'">DuckDuckGo</a>?<br/><br/>Or try looking in one of these:<ul><li>The <a href="https://doc.rust-lang.org/reference/index.html">Rust Reference</a>  for technical details about the language.</li><li><a href="https://doc.rust-lang.org/rust-by-example/index.html">Rust By Example</a> for expository code examples.</a></li><li>The <a href="https://doc.rust-lang.org/book/index.html">Rust Book</a> for introductions to language features and the language itself.</li><li><a href="https://docs.rs">Docs.rs</a> for documentation of crates released on <a href="https://crates.io/">crates.io</a>.</li></ul>');return[o,n.length]}function Y(e,t,n){const r=n<10?`\u2007(${n})\u2007\u2007`:n<100?`\u2007(${n})\u2007`:`\u2007(${n})`;return searchState.currentTab===e?'<button class="selected">'+t+'<span class="count">'+r+"</span></button>":"<button>"+t+'<span class="count">'+r+"</span></button>"}function ee(e){if(!browserSupportsHistoryApi())return;const t=searchState.getQueryStringParams();history.state||t.search?history.replaceState(null,"",e):history.pushState(null,"",e)}async function te(e){const t=j(searchState.input.value.trim());let n=W();if(!e&&t.userQuery===p)return void(t.userQuery.length>0&&me());searchState.setLoadingSearch();const r=searchState.getQueryStringParams();null===n&&void 0!==r["filter-crate"]&&(n=r["filter-crate"]),searchState.title="Results for "+t.original+" - Rust",ee(H(t.original,n)),await async function(e,t,n){const r=searchState.outputElement();if(t||1===e.others.length&&"true"===getSettingValue("go-to-only-result")){window.onunload=()=>{},searchState.removeQueryParameters();const t=document.createElement("a");return t.href=e.others[0].href,removeClass(t,"active"),document.body.appendChild(t),void t.click()}void 0===e.query&&(e.query=j(searchState.input.value)),p=e.query.userQuery;const[o,a,l]=await Promise.all([J(e.others,e.query,!0),J(e.in_args,e.query,!1),J(e.returned,e.query,!1)]);let c=searchState.currentTab;(0===c&&0===o[1]||1===c&&0===a[1]||2===c&&0===l[1])&&(0!==o[1]?c=0:0!==a[1]?c=1:0!==l[1]&&(c=2));let u="";if(s.size>1){u=' in&nbsp;<div id="crate-search-div"><select id="crate-search"><option value="all crates">all crates</option>';for(const e of s.keys())u+=`<option value="${e}" ${e===n&&"selected"}>${e}</option>`;u+="</select></div>"}let h=`<h1 class="search-results-title">Results${u}</h1>`;if(null!==e.query.error){const t=e.query.error;t.forEach(((e,n)=>{e=e.split("<").join("&lt;").split(">").join("&gt;"),t[n]=n%2!=0?`<code>${e.replaceAll(" ","&nbsp;")}</code>`:e})),h+=`<h3 class="error">Query parser error: "${t.join("")}".</h3>`,h+='<div id="search-tabs">'+Y(0,"In Names",o[1])+"</div>",c=0}else e.query.foundElems<=1&&0===e.query.returned.length?h+='<div id="search-tabs">'+Y(0,"In Names",o[1])+Y(1,"In Parameters",a[1])+Y(2,"In Return Types",l[1])+"</div>":(h+='<div id="search-tabs">'+Y(0,0===e.query.elems.length?"In Function Return Types":0===e.query.returned.length?"In Function Parameters":"In Function Signatures",o[1])+"</div>",c=0);null!==e.query.correction&&(h+=`<h3 class="search-corrections">Type "${e.query.returned.length>0?e.query.returned[0].name:e.query.elems[0].name}" not found. Showing results for closest type name "${e.query.correction}" instead.</h3>`);null!==e.query.proposeCorrectionFrom&&(h+=`<h3 class="search-corrections">Type "${e.query.proposeCorrectionFrom}" not found and used as generic parameter. Consider searching for "${e.query.proposeCorrectionTo}" instead.</h3>`);const d=document.createElement("div");d.id="results",d.appendChild(o[0]),d.appendChild(a[0]),d.appendChild(l[0]),r.innerHTML=h;const f=document.getElementById("crate-search");f&&f.addEventListener("input",ye),r.appendChild(d),searchState.showResults(r);const g=document.getElementById("search-tabs").childNodes;searchState.focusedByTab=[];let m=0;for(const s of g){const e=m;s.onclick=()=>i(e),searchState.focusedByTab.push(null),m+=1}i(c)}(await G(t,n,window.currentCrate),r.go_to_first,n)}function ne(e,t){return e.length>0?e.map((e=>oe(e,t))):ie}const re=new Map,ie=[];let se=new Map;function oe(e,t,r){let i,s,o,a;if("number"==typeof e?(i=e,s=ie,o=re):(i=e[0],s=ne(e[1],t),o=e.length>2&&e[2].length>0?new Map(e[2].map((e=>{const[n,r]=e;return[oe(n,t,!0).id,ne(r,t)]}))):re),i<0)a={id:i,ty:n,path:null,generics:s,bindings:o};else if(0===i)a={id:null,ty:null,path:null,generics:s,bindings:o};else{const e=t[i-1];a={id:F(e.name,r),ty:e.ty,path:e.path,generics:s,bindings:o}}const l=se.get(a.id);if(l){if(l.generics.length===a.generics.length&&l.generics!==a.generics&&l.generics.every(((e,t)=>a.generics[t]===e))&&(a.generics=l.generics),l.bindings.size===a.bindings.size&&l.bindings!==a.bindings){let e=!0;for(const[t,n]of l.bindings.entries()){const r=a.bindings.get(n);if(!r){e=!1;break}if(n!==r&&n.length===r.length&&n.every(((e,t)=>r[t]===e)))a.bindings.set(t,n);else if(n!==r){e=!1;break}}e&&(a.bindings=l.bindings)}if(l.ty===a.ty&&l.path===a.path&&l.bindings===a.bindings&&l.generics===a.generics&&l.ty===a.ty)return l}return se.set(a.id,a),a}function ae(e){return t=>{if(0===t)return null;let n,r;n="number"==typeof t[0]?[oe(t[0],e)]:ne(t[0],e),r=t.length>1?"number"==typeof t[1]?[oe(t[1],e)]:ne(t[1],e):[];const i=[],s=t.length;for(let o=2;o<s;++o)i.push("number"==typeof t[o]?[oe(t[o],e)]:ne(t[o],e));return{inputs:n,output:r,where_clause:i}}}function le(e,t,n){let r=e.id;r!==y&&r!==w||(r=b),r!==v&&r!==S||(r=x),r!==E&&r!==C&&r!==M||(r=I);if(null!==r){const e=3042594569^(i=4251993797+~~(i=3550635116+~~(i=374761393+~~(i=3345072700^(i=2127912214+~~(i=r)+(i<<12))^i>>>19)+(i<<5))^i<<9)+(i<<3))^i>>>16,s=(e=>(e=~e+(e<<15),e^=e>>>12,e+=e<<2,e^=e>>>4,(e=Math.imul(e,2057))^e>>16))(r),o=~~(e+Math.imul(s,2)),a=~~(e+Math.imul(s,3)),l=~~(e+Math.imul(s,4)),c=~~(e+Math.imul(s,5));t[0]|=1<<e%32|1<<a%32,t[1]|=1<<o%32|1<<c%32,t[2]|=1<<l%32|1<<s%32,n.add(r)}var i;for(const o of e.generics)le(o,t,n);const s={id:null,ty:0,generics:ie,bindings:re};for(const[o,a]of e.bindings.entries())s.id=o,s.generics=a,le(s,t,n);t[3]=n.size}function ce(e,t){const n=f[4*e],r=f[4*e+1],i=f[4*e+2],[s,o,a]=t,[l,c,u]=[n&s,r&o,i&a];return l^s||c^o||u^a?null:f[4*e+3]}class ue{constructor(e,t){this.string=e,this.cons=t,this.offset=0,this.backrefQueue=[]}decodeList(){const e="}".charCodeAt(0);let t=this.string.charCodeAt(this.offset);const n=[];for(;t!==e;)n.push(this.decode()),t=this.string.charCodeAt(this.offset);return this.offset+=1,n}decode(){const[e,t]=["{","`"].map((e=>e.charCodeAt(0)));let n=0,r=this.string.charCodeAt(this.offset);if(r===e)return this.offset+=1,this.decodeList();for(;r<t;)n=n<<4|15&r,this.offset+=1,r=this.string.charCodeAt(this.offset);n=n<<4|15&r;const[i,s]=[1&n,n>>1];return this.offset+=1,i?-s:s}next(){const e=this.string.charCodeAt(this.offset),[t,n,r]=["0","@","`"].map((e=>e.charCodeAt(0)));if(e>=t&&e<n)return this.offset+=1,this.backrefQueue[e-t];if(e===r)return this.offset+=1,this.cons(0);const i=this.cons(this.decode());return this.backrefQueue.unshift(i),this.backrefQueue.length>16&&this.backrefQueue.pop(),i}}class he{constructor(e){const t=atob(e),n=new Uint8Array(t.length);for(let l=0;l<t.length;++l)n[l]=t.charCodeAt(l);const r=59===n[0],i=r?1+(n[2]|n[3]<<8):n[4]|n[5]<<8|n[6]<<16|n[7]<<24;let s,o=r?4:8;if(r){const e=Math.floor((i+7)/8);s=n.slice(o,o+e),o+=e}else s=new Uint8Array;this.keys=[],this.cardinalities=[];for(let l=0;l<i;++l)this.keys.push(n[o]|n[o+1]<<8),o+=2,this.cardinalities.push(1+(n[o]|n[o+1]<<8)),o+=2;this.containers=[];let a=null;if(!r||this.keys.length>=4){a=[];for(let e=0;e<i;++e)a.push(n[o]|n[o+1]<<8|n[o+2]<<16|n[o+3]<<24),o+=4}for(let l=0;l<i;++l){if(a&&a[l]!==o)throw console.log(this.containers),new Error(`corrupt bitmap ${l}: ${o} / ${a[l]}`);if(s[l>>3]&1<<(7&l)){const e=n[o]|n[o+1]<<8;o+=2,this.containers.push(new de(e,n.slice(o,o+4*e))),o+=4*e}else if(this.cardinalities[l]>=4096)this.containers.push(new pe(n.slice(o,o+8192))),o+=8192;else{const e=2*this.cardinalities[l];this.containers.push(new fe(this.cardinalities[l],n.slice(o,o+e))),o+=e}}}contains(e){const t=e>>16,n=65535&e;for(let r=0;r<this.keys.length;++r)if(this.keys[r]===t)return this.containers[r].contains(n);return!1}}class de{constructor(e,t){this.runcount=e,this.array=t}contains(e){const t=4*this.runcount;for(let n=0;n<t;n+=4){const t=this.array[n]|this.array[n+1]<<8,r=this.array[n+2]|this.array[n+3]<<8;if(e>=t&&e<=t+r)return!0}return!1}}class fe{constructor(e,t){this.cardinality=e,this.array=t}contains(e){const t=2*this.cardinality;for(let n=0;n<t;n+=2){if(e===(this.array[n]|this.array[n+1]<<8))return!0}return!1}}class pe{constructor(e){this.array=e}contains(e){return!!(this.array[e>>3]&1<<(7&e))}}function ge(e){e.preventDefault(),searchState.clearInputTimeout(),te()}function me(){const e=searchState.input;searchState.input&&(""===e.value||searchState.isDisplayed()||(searchState.showResults(),browserSupportsHistoryApi()&&history.replaceState(null,"",H(e.value,W())),document.title=searchState.title))}function ye(e){if("all crates"===e.target.value){ee(H(searchState.input.value.trim(),null))}p=null,te(!0)}!function(e){u=[],h=new Map,d=new Map;const t="A".charCodeAt(0);let n=0,r=0;for(const i of e.values())r+=i.t.length+1;f=new Uint32Array(4*(r+1)),r=0;for(const[i,s]of e){const e=new ue(s.D,(e=>e));let o={crate:i,shard:0,start:0,len:e.next(),promise:null,resolve:null};const a=[o];h.set(i,new he(s.c)),d.set(i,new he(s.e));let l=0;const c={crate:i,ty:3,name:i,path:"",descShard:o,descIndex:l,parent:void 0,type:null,id:r,word:i,normalizedName:-1===i.indexOf("_")?i:i.replace(/_/g,""),bitIndex:0,implDisambiguator:null};r+=1,u.push(c),n+=1,d.get(i).contains(0)||(l+=1);const p=s.t,g=s.n,y=new Map(s.q),w=s.i,b=new Map(s.b),v=s.p,S=s.a,x=[],E=new ue(s.f,ae(x));let C=v.length,M=y.get(0);for(let t=0;t<C;++t){const e=v[t],n=e[0],r=e[1];let i=null;e.length>2&&(i=y.has(e[2])?y.get(e[2]):M,M=i),x.push({ty:n,name:r.toLowerCase(),path:i}),v[t]={ty:n,name:r,path:i}}M="",C=p.length;for(let n=0;n<C;++n){const s=n+1;l>=o.len&&!d.get(i).contains(s)&&(o={crate:i,shard:o.shard+1,start:o.start+o.len,len:e.next(),promise:null,resolve:null},l=0,a.push(o));let c="";"string"==typeof g[n]&&(c=g[n].toLowerCase());const h=y.has(n)?y.get(n):M,m=E.next();if(null!==m&&m){const e=f.subarray(4*r,4*(r+1)),t=new Set;for(const n of m.inputs)le(n,e,t);for(const n of m.output)le(n,e,t);for(const n of m.where_clause)for(const r of n)le(r,e,t)}const S={crate:i,ty:p.charCodeAt(n)-t,name:g[n],path:h,descShard:o,descIndex:l,parent:w[n]>0?v[w[n]-1]:void 0,type:m,id:r,word:c,normalizedName:-1===c.indexOf("_")?c:c.replace(/_/g,""),bitIndex:s,implDisambiguator:b.has(n)?b.get(n):null};r+=1,u.push(S),M=S.path,d.get(i).contains(s)||(l+=1)}if(S){const e=new Map;m.set(i,e);for(const t in S){if(!Object.prototype.hasOwnProperty.call(S,t))continue;let r;e.has(t)?r=e.get(t):(r=[],e.set(t,r));for(const e of S[t])r.push(e+n)}}n+=p.length,searchState.descShards.set(i,a)}se=new Map}(s),"undefined"!=typeof window&&(!function(){const e=searchState.getQueryStringParams();""===searchState.input.value&&(searchState.input.value=e.search||"");const t=()=>{searchState.clearInputTimeout(),0===searchState.input.value.length?searchState.hideResults():searchState.timeout=setTimeout(te,500)};if(searchState.input.onkeyup=t,searchState.input.oninput=t,document.getElementsByClassName("search-form")[0].onsubmit=ge,searchState.input.onchange=e=>{e.target===document.activeElement&&(searchState.clearInputTimeout(),setTimeout(te,0))},searchState.input.onpaste=searchState.input.onchange,searchState.outputElement().addEventListener("keydown",(e=>{if(!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey))if(38===e.which){const t=document.activeElement.previousElementSibling;t?t.focus():searchState.focus(),e.preventDefault()}else if(40===e.which){const t=document.activeElement.nextElementSibling;t&&t.focus();const n=document.activeElement.getBoundingClientRect();window.innerHeight-n.bottom<n.height&&window.scrollBy(0,n.height),e.preventDefault()}else 37===e.which?(V(-1),e.preventDefault()):39===e.which&&(V(1),e.preventDefault())})),searchState.input.addEventListener("keydown",(e=>{40===e.which&&(K(),e.preventDefault())})),searchState.input.addEventListener("focus",(()=>{me()})),searchState.input.addEventListener("blur",(()=>{searchState.input.placeholder=searchState.input.origPlaceholder})),browserSupportsHistoryApi()){const e=document.title;window.addEventListener("popstate",(t=>{const n=searchState.getQueryStringParams();document.title=e,p=null,n.search&&n.search.length>0?(searchState.input.value=n.search,t.preventDefault(),te()):(searchState.input.value="",searchState.hideResults())}))}window.onpageshow=()=>{const e=searchState.getQueryStringParams().search;""===searchState.input.value&&e&&(searchState.input.value=e),te()}}(),window.searchState.getQueryStringParams().search&&te()),"undefined"!=typeof exports&&(exports.initSearch=a,exports.execQuery=G,exports.parseQuery=j)}"undefined"!=typeof window?(window.initSearch=a,void 0!==window.searchIndex&&a(window.searchIndex)):a(new Map)}();